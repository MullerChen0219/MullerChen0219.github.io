<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>終極密碼美化版</title>
    <link rel="stylesheet" href="UltiPw.css">
</head>
<body>
    

    <section class="section-ultimatePW">
        <div class="ultimatePW">
            <h1>終極密碼</h1>
            <div class="input-zone">
                <input type="text" class="numGuess">
            </div>
            <div class="hint-zone">
                <button>Range</button>
                <span class="display">0~100</span>
            </div>
            <p class="warning">請輸入Range內數字</p>
            <div class="button-zone">
                <div class="btn1-6">
                    <div>
                        <button class="number-btn">1</button>
                        <button class="number-btn">2</button>
                        <button class="number-btn">3</button>
                        <button class="number-btn">4</button>
                        <button class="number-btn">5</button>
                        <button class="number-btn">6</button>
                    </div>
                    <div>
                        <button class="guess-btn">Guess</button>
                    </div>
                </div>
                <div>
                    <div>
                        <button class="number-btn">7</button>
                        <button class="number-btn">8</button>
                        <button class="number-btn">9</button>
                    </div>
                    <div>
                        <button class="number-btn">0</button>
                        <button class="clear-btn">clear</button>
                    </div>
                </div>
                <div>
                    <button class="newGame-btn">New<br>Game</button>
                </div>
            </div>
            <span class="checkAnswer">看答案</span>
        </div>
    </section>

    <script>
        const clear = document.querySelector('.clear-btn')
        const newGame = document.querySelector('.newGame-btn')
        const numGuess = document.querySelector('.numGuess')
        const guessBtn = document.querySelector('.guess-btn')
        const checkAnswer = document.querySelector('.checkAnswer')
        const display = document.querySelector('.display')
        const warning = document.querySelector('.warning')

        const STANDARD_RADIX = 10
        let min = 0;
        let max = 100;

        function getRandomIntInclusive(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1) + min);
        }
        let ANSWER = getRandomIntInclusive(min, max);
        newGame.addEventListener('click', function(){
            numGuess.value = ''
            warning.innerText = '請輸入Range內數字'
            display.innerText = '0~100'
            min = 0;
            max = 100;
            ANSWER = getRandomIntInclusive(min, max);

        })
        
        guessBtn.addEventListener("click", function(){
        
        let numInput = numGuess.value;
        let judgeInput = parseInt(numInput, STANDARD_RADIX);
        

        if (isNaN(judgeInput)) {
        warning.innerText = "請輸入數字";
        } else {
        if (judgeInput == ANSWER) {
            warning.innerText = "答對了!!!";
            } else if (judgeInput < ANSWER && judgeInput > min) {
            min = judgeInput;
            display.innerText = `${min}~${max}`;
            } else if (judgeInput > ANSWER && judgeInput < max) {
            max = judgeInput;
            display.innerText = `${min}~${max}`;
            } else if (judgeInput < min || judgeInput > max) {
            warning.innerText = `請輸入${min}~${max}的數字`;
            }
        }
        
        numGuess.value = ''
        });

        checkAnswer.addEventListener('click', function(){
            alert(ANSWER)
        })

        clear.addEventListener('click', function(){
            numGuess.value = ''
        })

        let allNumBtn = document.querySelectorAll('.number-btn')
        allNumBtn.forEach(element => {
            element.addEventListener('click', function(){
                numGuess.value += element.innerHTML
            })
        }); 
    </script>



</body>
</html>