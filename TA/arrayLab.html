<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    








    <script>
        let list = [
            { name: '啤酒' ,type: '喝的'},
            { name: '汽水' ,type: '喝的'},
            { name: '火鍋' ,type: '吃的'},
            { name: '燒烤' ,type: '吃的'},
            { name: '冰淇淋' ,type: '吃的'},
        ];

        //找第一個"吃的"東西

        let r1 = list.find(x => x['type'] == '吃的');
        console.log(r1);

        //找所有"吃的"東西
        let r2 = list.filter(x => x['type'] == '吃的');
        console.log(r2);

        //找"冰淇淋" 在第幾個位置
        let ice = list.find(x => x.name == "冰淇淋");
        let r3_1 = list.indexOf(ice)
        console.log(r3_1);

        let r3_2 = list.findIndex(x => x.name == '冰淇淋');
        console.log(r3_2);           //若想找的目標非字串建議使用findIndex方法

        //用 list產生新的集合
        //['啤酒','汽水','火鍋',...]

        let r4 = list.map(x => x.name);
        console.log(r4);

        //用 list產生新的集合
        // [
        // { id: 5, name: '啤酒'},
        // { id: 4, name: '汽水'},
        // { id: 3, name: '火鍋'},
        // { id: 2, name: '燒烤'},
        // { id: 1, name: '冰淇淋'}
        //]
        let r5 = list.map((x, idx) => {
            return {
                id: list.length - idx,
                name: x.name
            }
        })

        let r5_1 = list.map((x, idx) => ({
            id: list.length - idx,
            name: x.name
        })) 
        console.log(r5);
        console.log(r5_1);


        //排序
        let nums_1 = [9 ,6 ,4 ,2 ,1];
        let r6 = nums_1.sort((a, b) => b - a);  //compareFunction
        console.log(r6);

        let sum = nums_1.reduce((a, b) => a + b)
        console.log(sum);

        let nums_2 = [10000, 10, 100, 1, 101];  //排序不會這樣寫! 因為JS用Unicode碼排序
        let r7 = nums_2.sort((a, b) => a - b);
        console.log(r7);

        //r5 用 id排序
        let r8 = r5.sort((a, b) => a.id - b.id)
        console.log(r8);

        //12生肖排序
        //['鼠', '牛', '虎', '兔', '龍', '蛇', '馬', '羊', '猴', '雞', '狗', '豬'];
    //     let zodiac = [
    //         {鼠:1},
    //         {牛:1},
    //         {虎:1},
    //         {兔:1},
    //         {龍:1},
    //         {蛇:1},
    //         {馬:1},
    //         {羊:1},
    //         {猴:1},
    //         {雞:1},
    //         {狗:1},
    //         {豬:1}
    // ]

    let animal = ['豬', '龍', '鼠', '狗', '羊', '雞', '馬'];
    let sortedAnimal = animal.sort((a,b) =>{
        const zodiac = ['鼠', '牛', '虎', '兔', '龍', '蛇', '馬', '羊', '猴', '雞', '狗', '豬'];
        return zodiac.indexOf(a) - zodiac.indexOf(b)
    })

    console.log(sortedAnimal);


    //我要用list分群，吃的一群 喝的一群
    //自定義 groupBy 方法
    Array.prototype.groupBy = function(prop) {
        return this.reduce((groups, item) => {
            const val = item[prop]
            groups[val] = groups[val] || []
            groups[val].push(item)
            return groups
        }, {})
    }

    let r9 = list.groupBy('type')
    console.log(r9);


    </script>
</body>
</html>